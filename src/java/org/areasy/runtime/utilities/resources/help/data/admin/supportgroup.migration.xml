<?xml version="1.0" encoding="UTF-8"?>

<!--
  ~ Copyright (c) 2007-2016 AREasy Runtime
  ~
  ~ This library, AREasy Runtime and API for BMC Remedy AR System, is free software ("Licensed Software"); 
  ~ you can redistribute it and/or modify it under the terms of the GNU Lesser General Public 
  ~ License as published by the Free Software Foundation; either version 2.1 of the License, 
  ~ or (at your option) any later version.
  ~
  ~ This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; 
  ~ including but not limited to, the implied warranty of MERCHANTABILITY, NONINFRINGEMENT, 
  ~ or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
  -->

<!DOCTYPE help SYSTEM "action.dtd">

<help inherit="action.xml">
	<name>Support Group Migration</name>
	<description>
This action is an ITSM utility, designed to migrate a support group by making Obsolete the original one and creating a new one with the specified options. All related details (e.g. aliases and memberships etc.) of the old support group will be copied to the new support group. Moreover, this action is able to replace the old support group with the new one in incidents, problems, known errors, changes, tasks, work orders and asset relationships.
	</description>
	<syntax>
areasy -action supportgroup.migration
		-sgroupcompany CurrentSupportGroupCompany -sgrouporganisation CurrentSupportGroupOrganisation -sgroupname CurrentSupportGroupName | [-sgroupid CurrentSupportGroupId]
		-newsgroupcompany NewSupportGroupCompany -newsgrouporganisation NewSupportGroupOrganisation -newsgroupname NewSupportGroupName
		[-allgroupdetails] | 
		[ [-members] [-keepoldmembers] [-functionalroles] [-keepoldfunctionalroles] [-aliases] [-keepoldaiases] 
		[-favorites] [-keepoldfavorites] [-oncalls] [-shifts] ]
		[-allrelatedtickets] |
		[ [-incidenttemplates] [-incidents [-incidentsbefore StartDate | -incidentsafter EndDate | -openincidents]]
		[-problemtemplates]	[-problems [-problemsbefore StartDate | -problemsafter EndDate | -openproblems]]
		[-knownerrors [-knownerrorsbefore StartDate | -knownerrorsafter EndDate | -openknownerrors]]
		[-changetemplates] [-changes [-changesbefore StartDate | -changesafter EndDate| -openchanges]]
		[-tasktemplates] [-tasks [-tasksbefore StartDate | -tasksafter EndDate | -opentasks]]
		[-workordertemplates] [-workorders [-workordersbefore StartDate | -workorderafter EndDate | -openworkorders]]
		[-assetrelationships] [-cmdbrelationships] [-knowledgerecords]
		[-approvalmappings]
	</syntax>
	<options>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
		<option key="" description=""/>
	</options>
	<samples>
		<sample code='areasy -runtime -action supportgroup.migration -members -aliases -supportgroupcompany "Calbro Services" -supportgrouporganisation "Services Performance" -supportgroupname "Development" -newsupportgroupcompany "Calbro Services" -newsupportgrouporganisation "IT Service Management" -newsupportgroupname "Development" -loglevel info' 
				description='makes old support group offline, creates a new support group and transfers from old group to the new one the following entities: aliases, people accounts and application functional roles'/>
		<sample code="" 
				description=""/>
		<sample code="" 
				description=""/>
		<sample code="" description=""/>
	</samples>
</help>


| Parameter               | Description       |
| ----------------------- | ----------------- |
| `sgroupcompany`         | current support group company. In addition the action supports another alias for this option: `supportgroupcompany`|
| `sgrouporganisation`    | current support group organisation. In addition the action supports another alias for this option: `supportgrouporganisation`|
| `sgroupname`            | current support group name. In addition the action supports some aliases for this option: `sgroup`, `supportgroup`, `supportgroupname`|
| `sgroupid`              | current support group id. In addition the action supports some aliases for this options: `supportgroupid`|
| `newsgroupcompany`      | new support group company (company part of the new support group that will be created). In addition the action supports another alias for this option: `newsupportgroupcompany`|
| `newsgrouporganisation` | new support group organisation (organisation part of the new support group that will be created). In addition the action supports another alias for this option: `newsupportgrouporganisation`|
| `newsgroupname`         | new support group name (group name part of the new support group that will be created). In addition the action supports some aliases for this option: `sgroup`, `supportgroup`, `supportgroupname`|
| `allgroupdetails`       | transfer all related details from old support group to the new support group. Here are considered all members, alias, functional roles, oncall records, shifts, etc. (actually this option could be used in case of you want to create a mirrored support group).|
| `members`               | migrates to the new support group all people accounts that are members of old support group. In case the old support group was the primary group for specific accounts the primary role will be transferred to the new support group (and for the old one it will be reset)|
| `keepoldmembers`        | specifies if during migration process the members of old support group will be kept or not|
| `functionalroles`       | migrates to the new support group all functional roles found to the old support group|
| `keepoldfunctionalroles`| specifies if during migration process the functional roles related to the old support group will be kept or not|
| `aliases`               | migrates old support group aliases to the new support group|
| `keepoldaiases`         | |
| `favorites`             | transfer old support group favorites to the new support group|
| `keepoldfavorites`      | |
| `oncalls`               | transfer old support group favorites to the new support group|
| `shifts`                | transfer old support group shifts to the new support group|
| `allrelatedtickets`     | change all assignment types in all type of ticket managed by ITSM suite (incidents, problems, known errors, changes and asset relationships). In case of you want to convert discrete ticket types you have use the options described below (for each ticket type)|
| `approvalmappings`      | transfer old support group approval mappings to the new support group|
| `incidenttemplates`     | change the assignment and all authoring support groups in incident templates|
| `incidents`             | change the assignment and owner support groups in incident tickets|
| `incidentsbefore`       | allows you to change only incidents that are created before the specified date. This option excludes 'incidentsafter' option and vice-versa|
| `incidentsafter`        | allows you to change only incidents that are created after the specified date. This option excludes 'incidentsbefore' option and vice-versa|
| `openincidents`         | allows you to change only open incidents (all incidents that have status = Assigned, In Progress, Pending or Resolved)|
| `problemtemplates`      | change the assignment and all authoring support groups in problem templates|
| `problems`              | change the assignment and coordinator support groups in problem tickets|
| `problemsbefore`        | allows you to change only problems that are created before the specified date. This option excludes 'problemsafter' option and vice-versa|
| `problemsafter`         | allows you to change only problems that are created after the specified date. This option excludes 'problemsbefore' option and vice-versa|
| `openproblems`          | allows you to change only open problems (all problems that have status = Draft, Under Review, Request For Authorization, Assigned, Under Investigation, Pending or Completed)|
| `knownerrors`           | change the assignment and coordinator support groups in known errors tickets|
| `knownerrorsbefore`     | allows you to change only known errors that are created before the specified date. This option excludes 'knownerrorssafter' option and vice-versa|
| `knownerrorssafter`     | allows you to change only known errors that are created after the specified date. This option excludes 'knownerrorsbefore' option and vice-versa|
| `openknownerrors`       | allows you to change only open known errors (all known errors that have status = Assigned, Scheduled For Correction, Assigned To Vendor, No Action Planned or Corrected)|
| `changetemplates`       | update the assignment and all authoring support groups in change templates|
| `changes`               | update the assignment, coordinator and change manager support groups in change tickets|
| `changesbefore`         | allows you to update only changes that are created before the specified date. This option excludes 'changesafter' option and vice-versa|
| `changesafter`          | allows you to update only changes that are created after the specified date. This option excludes 'changesbefore' option and vice-versa|
| `openchanges`           | allows you to update only open changes (all changes that have status = Draft, Request For Authorization, Request For Change, Planning In Progress, Scheduled For Review, Scheduled For Approval, Scheduled, Implementation In Progress, Pending, Rejected or Completed)|
| `dataaccess`            | |


__Examples__


    areasy -runtime -action supportgroup.migration -members -aliases -incidents -incidenttemplates -supportgroupcompany "Calbro Services" -supportgrouporganisation "Services Performance" -supportgroupname "Development" -newsupportgroupcompany "Calbro Services" -newsupportgrouporganisation "IT Service Management" -newsupportgroupname "Development" -loglevel info
= performs usual actions (mentioned in the first example) and additionally update changes in incidents and incident templates replacing old group with the new one and authoring areas is updated as well. All secondary authoring groups are evaluated for this type of change.

    areasy -runtime -action supportgroup.migration -allgroupdetails -supportgroupcompany "Calbro Services" -supportgrouporganisation "IT Support" -supportgroupname "Service Desk" -newsupportgroupcompany "Calbro Services" -newsupportgrouporganisation "IT Support" -newsupportgroupname "Help Desk" -loglevel info -assetrelationships on
= makes old group offline creates a new support group and transfer from old group to the new one all details. Additionally update all asset relationships where a support group is related, replacing old group with the new one.

    areasy -runtime -arserver localhost -arport 2000 -aruser Demo -arpassword "" -action supportgroup.migration -allgroupdetails -supportgroupcompany "Calbro Services" -supportgrouporganisation "IT Support" -supportgroupname "Service Desk" -newsupportgroupcompany "Calbro Services" -newsupportgrouporganisation "IT Support" -newsupportgroupname "Help Desk" -loglevel info -assetrelationships on
= the same target command but with an explicit connection to AR System server. The action will be executed in runtime mode (because of `-runtime` option specified in the command line) 
